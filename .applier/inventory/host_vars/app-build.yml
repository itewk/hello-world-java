---
create_project_params:
  NAMESPACE: '{{ ci_cd_namespace }}'
  NAMESPACE_DISPLAY_NAME: '{{ ci_cd_namespace }}'

jenkins_rolebinding_params:
  JENKINS_NAMESPACE: '{{ ci_cd_namespace }}'

group_rolebinding_params:
  ROLE: 'admin'
  GROUP: "{{ app_owner_group_name }}"

build_params:
  NAME: '{{ app_name }}'
  PUSH_SECRET: '{{ app_build_push_secret }}'
  PULL_SECRET: '{{ app_build_pull_secret }}'
  DESTINATION_IMAGE_NAME: '{{ app_build_destination_image_name }}'
  DESTINATION_REPO_NAME: '{{ app_build_destination_repo_name }}'
  DESTINATION_IMAGE_TAG: '{{ app_build_destination_image_tag }}'
  DESTINATION_REPO_NAMESPACE: '{{ app_build_destination_repo_namespace }}'
  BUILDER_IMAGE_NAME: '{{ app_build_builder_image_name }}'
  MAVEN_MIRROR_URL: '{{ app_build_maven_mirror_url }}'
  MAVEN_ARGS_APPEND: '{{ app_build_maven_args_append }}'

cluster_credential_dev_secret_params:
  NAME: 'cluster-credential-dev'
  API: "https://ocp.rhc-lab.iad.redhat.com"
  TOKEN: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61393436326434376335656261663361386265633132306539386534616234303939323532343036
          3330346163343163326137663830396435643163383239320a383532346161636630346539303663
          33313337653563376537363333306632613037663531323933396334373637383639303037613534
          6366336436383063380a356338303865623065376662336333386136666234613635613166333737
          31373137323138393463376663393432653464353761323762666238613235643231343430613833
          30353863643766323338313564376431393866383265653932653138363539316430663733393833
          36396263616437343733353639323664666130386337376338656565363536633664666161336261
          62373564376437633933383463626262623638326634303363383138366539316638303939343237
          31613134353661623635396339643732646464623239346261613738343930656265616130306438
          33386135393937313139633937663737393332663762393639653531346530343163663436326531
          35656639386461626233343633353362323362613138356662613236313063646536383762306232
          38643037376666376166643437663265616266653834343738626337666262393939303735393732
          33656166363336626166303938333536373036373565303436316366326234353330623561316537
          31636334653037646630316264323463363231383861336136313364663234353561343730313139
          61653465323930323030643931323836333630663765663632623036626561373038323233336165
          37353637343666333439636261323133323839633934343865343230396262356332333362666232
          31353065323732636231303436383537323965316234633534336263663638633136376533353839
          35376462313565366533363865383330303735646335333132353436376434616437356432333866
          33623531656132343038656136643466636134363232313462313635306131376639333430613737
          61663234666331323831653030623030306330353039383636313264343161343030333539663438
          66313237373137386632326532363135613064656538646163393135663834373162653833336262
          36386632636161336139373338326231643065333830613662643163666433633934633165373835
          64326263313262383661646236326632383362653164303838366264623830356232636564393633
          32663334366536373162326165323136626361636566383538663961313462363333613662666561
          33373436373731333531393663666132393165663638383666336565396264316334613561303839
          61653638346365356436636163363233383136373431366266343636646439346430313831313366
          34386236396539356463396436656238666432393762323430623366636334303639616534653830
          61313431636361323431363639386631643433356435353439333136323063376535626363633466
          31353035326631313230623034386239323164306430343561613533383339386334653736316133
          31653033646636623839636234626564626532363632623261363462363739386131376162666433
          33633330343231353261333335363736353530383262386336633763666562323538353637373532
          38653235393139343966646262646665393636376632613431613935303739303137396136663135
          62396266366637666562653361666430626432346639646163346439626636633061316336613066
          64626562336639613633353639653831343338323161346538336236653838306466326265356230
          66323861333533656431323865393037626432303433336433396637336134396231663165613837
          31346164336534616662373238383361303266313630663263373731663935663730323937663032
          62323634366465303436396437373437656162373466643435613536346265396536366631626135
          33633034303933373664346136343566646435663565386432303463636563373333653634626233
          33376262653066623033646266353431636637653538393733663532636164333133646231643631
          61616165366162306136653632346361346561343438636531313137616636643330396233343064
          63653064626230643864396431633165333132343465303332646535616431363531326262363263
          62643933313035383765366431386364376163343531306365323338386261336232336334383639
          32623333343435396161386530646530336438383833336231656534316166623165333037376131
          30346230666564366638613339393033643935333462363561663465663262323533646434366261
          37646632336133666661353737383531313733393435356462343037366135386661373532656334
          35303064623030363633646136333865386433633435306265313035303935656365666637386536
          636634643366633339323836383866376161

cluster_credential_test_secret_params:
  NAME: 'cluster-credential-test'
  API: "https://ocp.rhc-lab.iad.redhat.com"
  TOKEN: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61393436326434376335656261663361386265633132306539386534616234303939323532343036
          3330346163343163326137663830396435643163383239320a383532346161636630346539303663
          33313337653563376537363333306632613037663531323933396334373637383639303037613534
          6366336436383063380a356338303865623065376662336333386136666234613635613166333737
          31373137323138393463376663393432653464353761323762666238613235643231343430613833
          30353863643766323338313564376431393866383265653932653138363539316430663733393833
          36396263616437343733353639323664666130386337376338656565363536633664666161336261
          62373564376437633933383463626262623638326634303363383138366539316638303939343237
          31613134353661623635396339643732646464623239346261613738343930656265616130306438
          33386135393937313139633937663737393332663762393639653531346530343163663436326531
          35656639386461626233343633353362323362613138356662613236313063646536383762306232
          38643037376666376166643437663265616266653834343738626337666262393939303735393732
          33656166363336626166303938333536373036373565303436316366326234353330623561316537
          31636334653037646630316264323463363231383861336136313364663234353561343730313139
          61653465323930323030643931323836333630663765663632623036626561373038323233336165
          37353637343666333439636261323133323839633934343865343230396262356332333362666232
          31353065323732636231303436383537323965316234633534336263663638633136376533353839
          35376462313565366533363865383330303735646335333132353436376434616437356432333866
          33623531656132343038656136643466636134363232313462313635306131376639333430613737
          61663234666331323831653030623030306330353039383636313264343161343030333539663438
          66313237373137386632326532363135613064656538646163393135663834373162653833336262
          36386632636161336139373338326231643065333830613662643163666433633934633165373835
          64326263313262383661646236326632383362653164303838366264623830356232636564393633
          32663334366536373162326165323136626361636566383538663961313462363333613662666561
          33373436373731333531393663666132393165663638383666336565396264316334613561303839
          61653638346365356436636163363233383136373431366266343636646439346430313831313366
          34386236396539356463396436656238666432393762323430623366636334303639616534653830
          61313431636361323431363639386631643433356435353439333136323063376535626363633466
          31353035326631313230623034386239323164306430343561613533383339386334653736316133
          31653033646636623839636234626564626532363632623261363462363739386131376162666433
          33633330343231353261333335363736353530383262386336633763666562323538353637373532
          38653235393139343966646262646665393636376632613431613935303739303137396136663135
          62396266366637666562653361666430626432346639646163346439626636633061316336613066
          64626562336639613633353639653831343338323161346538336236653838306466326265356230
          66323861333533656431323865393037626432303433336433396637336134396231663165613837
          31346164336534616662373238383361303266313630663263373731663935663730323937663032
          62323634366465303436396437373437656162373466643435613536346265396536366631626135
          33633034303933373664346136343566646435663565386432303463636563373333653634626233
          33376262653066623033646266353431636637653538393733663532636164333133646231643631
          61616165366162306136653632346361346561343438636531313137616636643330396233343064
          63653064626230643864396431633165333132343465303332646535616431363531326262363263
          62643933313035383765366431386364376163343531306365323338386261336232336334383639
          32623333343435396161386530646530336438383833336231656534316166623165333037376131
          30346230666564366638613339393033643935333462363561663465663262323533646434366261
          37646632336133666661353737383531313733393435356462343037366135386661373532656334
          35303064623030363633646136333865386433633435306265313035303935656365666637386536
          636634643366633339323836383866376161

cluster_credential_prod_secret_params:
  NAME: 'cluster-credential-prod'
  API: "https://ocp.rhc-lab.iad.redhat.com"
  TOKEN: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61393436326434376335656261663361386265633132306539386534616234303939323532343036
          3330346163343163326137663830396435643163383239320a383532346161636630346539303663
          33313337653563376537363333306632613037663531323933396334373637383639303037613534
          6366336436383063380a356338303865623065376662336333386136666234613635613166333737
          31373137323138393463376663393432653464353761323762666238613235643231343430613833
          30353863643766323338313564376431393866383265653932653138363539316430663733393833
          36396263616437343733353639323664666130386337376338656565363536633664666161336261
          62373564376437633933383463626262623638326634303363383138366539316638303939343237
          31613134353661623635396339643732646464623239346261613738343930656265616130306438
          33386135393937313139633937663737393332663762393639653531346530343163663436326531
          35656639386461626233343633353362323362613138356662613236313063646536383762306232
          38643037376666376166643437663265616266653834343738626337666262393939303735393732
          33656166363336626166303938333536373036373565303436316366326234353330623561316537
          31636334653037646630316264323463363231383861336136313364663234353561343730313139
          61653465323930323030643931323836333630663765663632623036626561373038323233336165
          37353637343666333439636261323133323839633934343865343230396262356332333362666232
          31353065323732636231303436383537323965316234633534336263663638633136376533353839
          35376462313565366533363865383330303735646335333132353436376434616437356432333866
          33623531656132343038656136643466636134363232313462313635306131376639333430613737
          61663234666331323831653030623030306330353039383636313264343161343030333539663438
          66313237373137386632326532363135613064656538646163393135663834373162653833336262
          36386632636161336139373338326231643065333830613662643163666433633934633165373835
          64326263313262383661646236326632383362653164303838366264623830356232636564393633
          32663334366536373162326165323136626361636566383538663961313462363333613662666561
          33373436373731333531393663666132393165663638383666336565396264316334613561303839
          61653638346365356436636163363233383136373431366266343636646439346430313831313366
          34386236396539356463396436656238666432393762323430623366636334303639616534653830
          61313431636361323431363639386631643433356435353439333136323063376535626363633466
          31353035326631313230623034386239323164306430343561613533383339386334653736316133
          31653033646636623839636234626564626532363632623261363462363739386131376162666433
          33633330343231353261333335363736353530383262386336633763666562323538353637373532
          38653235393139343966646262646665393636376632613431613935303739303137396136663135
          62396266366637666562653361666430626432346639646163346439626636633061316336613066
          64626562336639613633353639653831343338323161346538336236653838306466326265356230
          66323861333533656431323865393037626432303433336433396637336134396231663165613837
          31346164336534616662373238383361303266313630663263373731663935663730323937663032
          62323634366465303436396437373437656162373466643435613536346265396536366631626135
          33633034303933373664346136343566646435663565386432303463636563373333653634626233
          33376262653066623033646266353431636637653538393733663532636164333133646231643631
          61616165366162306136653632346361346561343438636531313137616636643330396233343064
          63653064626230643864396431633165333132343465303332646535616431363531326262363263
          62643933313035383765366431386364376163343531306365323338386261336232336334383639
          32623333343435396161386530646530336438383833336231656534316166623165333037376131
          30346230666564366638613339393033643935333462363561663465663262323533646434366261
          37646632336133666661353737383531313733393435356462343037366135386661373532656334
          35303064623030363633646136333865386433633435306265313035303935656365666637386536
          636634643366633339323836383866376161

image_pull_repo_credential_secret_params:
  NAME: 'image-pull-repo-credential'
  REPO_FQDN: 'registry.apps.rhc-lab.iad.redhat.com'
  REPO_USERNAME: itewk-hello-world-cicd
  REPO_PASSWORD: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34643834386163313438636561376561633436333138333231383764376433653335653936323132
          3232353233306662316565656532643236653031363234610a656232323730656135613030373533
          66353761643630623064396136353739623336306663363764616338666362386162653462376531
          3932666632316664330a623134386538356231663139636335393435373761353533613736383931
          3163

image_push_repo_credential_secret_params:
  NAME: 'image-push-repo-credential'
  REPO_FQDN: 'registry-internal.apps.rhc-lab.iad.redhat.com'
  REPO_USERNAME: itewk-hello-world-cicd
  REPO_PASSWORD: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34643834386163313438636561376561633436333138333231383764376433653335653936323132
          3232353233306662316565656532643236653031363234610a656232323730656135613030373533
          66353761643630623064396136353739623336306663363764616338666362386162653462376531
          3932666632316664330a623134386538356231663139636335393435373761353533613736383931
          3163

openshift_cluster_content:
  - object: deploy-cicd
    content:
      - name: '{{ app_name }}-{{ ci_cd_namespace }}-create'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/project-requests/create-project.yml'
        action: create
        params_from_vars: '{{ create_project_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - deploy
          - cicd
      - name: '{{ app_name }}-{{ ci_cd_namespace }}-jenkins-role-binding'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/role-bindings/jenkins-rolebinding-template.yml'
        params_from_vars: '{{ jenkins_rolebinding_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - deploy
          - dev
      - name: '{{ app_name }}-{{ ci_cd_namespace }}-owner-role-binding'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/role-bindings/group-rolebinding-template.yml'
        params_from_vars: '{{ group_rolebinding_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - deploy
          - dev
      - name: '{{ app_name }}-build'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/app-build/s2i-build-template-binary-to-dockerimage-with-pull-and-push-secrets.yaml'
        params_from_vars: '{{ build_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
      - name: '{{ app_name }}-secret-cluster-credential-dev'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/secrets/cluster-credential-secret.yml'
        params_from_vars: '{{ cluster_credential_dev_secret_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
      - name: '{{ app_name }}-secret-cluster-credential-test'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/secrets/cluster-credential-secret.yml'
        params_from_vars: '{{ cluster_credential_test_secret_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
      - name: '{{ app_name }}-secret-cluster-credential-prod'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/secrets/cluster-credential-secret.yml'
        params_from_vars: '{{ cluster_credential_prod_secret_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
      - name: '{{ app_name }}-secret-image-pull-repo-credential'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/secrets/secret-docker-cfg-stringdata.yml'
        params_from_vars: '{{ image_pull_repo_credential_secret_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
      - name: '{{ app_name }}-secret-image-push-repo-credential'
        template: '{{ openshift_templates_raw }}/{{ openshift_templates_raw_version_tag }}/secrets/secret-docker-cfg-stringdata.yml'
        params_from_vars: '{{ image_push_repo_credential_secret_params }}'
        namespace: '{{ ci_cd_namespace }}'
        tags:
          - build
          - deploy
          - cicd
